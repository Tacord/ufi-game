[gd_scene load_steps=12 format=3 uid="uid://bovfxbg5t40sd"]

[ext_resource type="PackedScene" uid="uid://2ewum80cfidx" path="res://scenes/player.tscn" id="1_2q6dc"]
[ext_resource type="Script" uid="uid://csb7v5rikyubp" path="res://scripts/level.gd" id="1_w8frs"]
[ext_resource type="PackedScene" uid="uid://dilp511xr1wd0" path="res://scenes/ringpull.tscn" id="2_ppgk2"]
[ext_resource type="Texture2D" uid="uid://bjthveg06dawp" path="res://assets/background temp(1).png" id="2_w7c3h"]
[ext_resource type="PackedScene" uid="uid://sc2g2uhl3ecm" path="res://scenes/gear.tscn" id="3_klq6b"]
[ext_resource type="PackedScene" uid="uid://gvqwukqhs85t" path="res://scenes/magnet.tscn" id="4_mx8sn"]
[ext_resource type="FontFile" uid="uid://cgpos0gnmt7ke" path="res://assets/Bright Aura.ttf" id="6_2r41h"]

[sub_resource type="LabelSettings" id="LabelSettings_klq6b"]
font = ExtResource("6_2r41h")
font_size = 100

[sub_resource type="Animation" id="Animation_2r41h"]
resource_name = "addscore"
length = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("UI/Score:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.099999994),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1.3, 1.3), Vector2(1, 1)]
}

[sub_resource type="Animation" id="Animation_klq6b"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("UI/Score:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_b121j"]
_data = {
&"RESET": SubResource("Animation_klq6b"),
&"addscore": SubResource("Animation_2r41h")
}

[node name="Level" type="Node2D"]
script = ExtResource("1_w8frs")
ringpull = ExtResource("2_ppgk2")
gear = ExtResource("3_klq6b")

[node name="Player" parent="." instance=ExtResource("1_2q6dc")]
position = Vector2(967, 949)

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2(0, 1225.365)

[node name="Background" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
modulate = Color(0.18000486, 0.18000486, 0.18000486, 1)
z_index = -10
position = Vector2(910, 521)
texture = ExtResource("2_w7c3h")

[node name="Magnet" parent="." instance=ExtResource("4_mx8sn")]
position = Vector2(960, 823)

[node name="Ringpull Timer" type="Timer" parent="."]
wait_time = 0.1
autostart = true

[node name="Gear Timer" type="Timer" parent="."]
autostart = true

[node name="UI" type="CanvasLayer" parent="."]

[node name="Score" type="Label" parent="UI"]
anchors_preset = -1
anchor_left = 0.50600004
anchor_top = 0.116000004
anchor_right = 0.50600004
anchor_bottom = 0.116000004
offset_left = -963.5201
offset_top = -142.28
offset_right = 962.4799
offset_bottom = 141.72
pivot_offset = Vector2(962.05, 138.305)
text = "0"
label_settings = SubResource("LabelSettings_klq6b")
horizontal_alignment = 1
vertical_alignment = 1

[node name="ScoreAnimation" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_b121j")
}

[connection signal="timeout" from="Ringpull Timer" to="." method="_on_ringpull_timer_timeout"]
[connection signal="timeout" from="Gear Timer" to="." method="_on_gear_timer_timeout"]
